<!--The content below is only a placeholder and can be replaced.-->
<app-layout>

  <div class="row">
    <div class="col-lg-12" style="text-align: center">
      <h1>
        {{ title }}
      </h1>
    </div>
  </div>

  <div class="row">
    <div class="col-md-4">

      <form (ngSubmit)="crearTarea()" #tareaForm="ngForm">
        
        <div class="form-group">
          <label for="titulo">Titulo</label>
          <input [(ngModel)]="newTarea.titulo"
                 class="form-control"
                 type="text"
                 id="titulo"
                 name="titulo"
                 required minlength="3"
                 #titulo="ngModel"
                 #p />
        </div>
        <!--
        {{ p }}
        {{ t.value }} {{ t.invalid }} {{ t.dirty }} {{ t.touched }}
          <div *ngIf="titulo.invalid && (titulo.dirty || titulo.touched)"
                class="alert alert-danger">
                El titulo debe tener largo mayor a 2 caracteres
          </div>

        -->

        <div class="form-group">
          <label for="descripcion">Descripcion</label>
          <textarea [(ngModel)]="newTarea.descripcion"
                    class="form-control"
                    id="descripcion"
                    name="descripcion"
                    required minlength="1"></textarea>
        </div>

        <button type="submit"
                [disabled]="tareaForm.invalid"
                class="btn btn-primary">
                Crear Tarea
        </button>
      </form>

    </div>
    <div class="col-md-8">
      <table class="table">
        <tr>
          <th>#</th>
          <th>Titulo</th>
          <th>Estado</th>
        </tr>
        <tr *ngFor="let t of tareas; let odd = odd; let even = even;"
          [class.selected]="t === tareaSeleccionada">
          <td>{{ t.id }}</td>
          <td><a href="#" (click)="seleccionarTarea(t)">{{ t.titulo }}</a></td>
          <td>{{ estado2str(t.estado) }}</td>
        </tr>
      </table>
    </div>
  </div>

  <hr *ngIf="tareaSeleccionada" />

  <div class="col-md-12" *ngIf="tareaSeleccionada">
      <div [ngSwitch]="tareaSeleccionada.estado">
        <app-tarea-creada     [tarea]="tareaSeleccionada" *ngSwitchCase="estadoTareas.Creada"></app-tarea-creada>
        <app-tarea-en-proceso [tarea]="tareaSeleccionada" *ngSwitchCase="estadoTareas.EnProceso"></app-tarea-en-proceso>
        <app-tarea-terminada  [tarea]="tareaSeleccionada" *ngSwitchCase="estadoTareas.Terminada"></app-tarea-terminada>
      </div>
  </div>
  

</app-layout>





